<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN 2.0//EN" "http://www.springframework.org/dtd/spring-beans-2.0.dtd">

<beans>
	<!--<bean id="sessionFactory" class="org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean">-->
	<bean id="sessionFactory" class="org.springframework.orm.hibernate3.LocalSessionFactoryBean">
		<property name="dataSource" ref="dataSource"/>
		<property name="mappingResources">
			<list>
		    	<value>model/Tb_user.hbm.xml</value>
		    </list>
		</property>
		<!--
		<property name="annotatedClasses">
			<list>
		    	<value>model.Tb_user</value>
		    </list>
		</property>
	    -->
	    <property name="hibernateProperties">
	    	<props>
	    		<prop key="hibernate.dialect">org.hibernate.dialect.Oracle9iDialect</prop>
	    		<prop key="hibernate.show_sql">true</prop>
	    		<prop key="hibernate.format_sql">true</prop>
	    	</props>
		   	<!--
		   	<map>
		   		<entry key="hibernate.dialect" value="org.hibernate.dialect.Oracle9iDialect"/>
		   		<entry key="hibernate.show_sql" value="true"/>
		   		<entry key="hibernate.hbm2ddl.auto" value="create"/>
		   	</map>
	    	<value>
				hibernate.dialect=org.hibernate.dialect.Oracle9iDialect
				hibernate.show_sql=true
				hibernate.hbm2ddl.auto=create
			</value>
			-->
	    </property>
	</bean>
	
	<!-- 事务管理 -->
	<bean id="txManager" class="org.springframework.orm.hibernate3.HibernateTransactionManager">
	  	<property name="sessionFactory" ref="sessionFactory"/>
	</bean>
	
	<!-- 配置SessionFactory,由Spring容器来管理Hibernate -->
    <!-- 非Annotation时,使用org.springframework.orm.hibernate3.LocalSessionFactoryBean,
        它注入实体类的方式是setMappingResources(),而Hibernate Annotation所用的映射方式
        不是mapping resource,而是mapping class,这就要用到LocalSessionFactoryBean的子类
        AnnotationSessionFactoryBean了.因为AnnotationSessionFactoryBean它支持实体的注入
        方式setAnnotatedClasses,即对应Hibernate中的mapping class.参见这两个类的源代码. -->
    <bean id="sessionFactory1" class="org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean">
        <property name="configLocation">
            <value>classpath:hibernate.cfg.xml</value>
        </property>
    </bean>

  
    
   
</beans>
